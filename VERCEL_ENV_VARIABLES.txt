â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          ğŸ”§ VERCEL DEPLOYMENT - ENVIRONMENT VARIABLES          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  IMPORTANT: You need to set these environment variables in Vercel!

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    API DEPLOYMENT (Root: api/)                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Add these environment variables when deploying the API:

1. DATABASE_URL
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Value: Your PostgreSQL connection string from Neon or Vercel
   
   Example:
   postgresql://username:password@ep-xxx-yyy.us-east-2.aws.neon.tech/dbname?sslmode=require
   
   Get it from:
   â€¢ Neon.tech: https://neon.tech (Recommended - Free)
   â€¢ Vercel Postgres: Storage â†’ Create Database
   
2. API_SECRET
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Value: A secret key for API authentication
   
   Example:
   my_super_secret_key_12345_change_this_in_production
   
   Tips:
   â€¢ Use a strong random string
   â€¢ Keep it secret
   â€¢ Use same value in webapp deployment

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 WEBAPP DEPLOYMENT (Root: webapp/)              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Add these environment variables when deploying the webapp:

1. VITE_API_URL
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Value: Your deployed API URL + /api/v1
   
   Example:
   https://your-api-name.vercel.app/api/v1
   
   âš ï¸  Deploy API FIRST, then use that URL here
   
2. VITE_API_SECRET
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   Value: Same secret key used in API deployment
   
   Example:
   my_super_secret_key_12345_change_this_in_production
   
   âš ï¸  MUST match the API_SECRET from API deployment

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ“‹ DEPLOYMENT CHECKLIST                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Get PostgreSQL Database
   [ ] Sign up at https://neon.tech
   [ ] Create new project
   [ ] Copy connection string
   
Step 2: Deploy API First
   [ ] Go to https://vercel.com/new
   [ ] Import: E27-25/assignment-week2-sensor-api
   [ ] Set Root Directory: api
   [ ] Add DATABASE_URL environment variable
   [ ] Add API_SECRET environment variable
   [ ] Click Deploy
   [ ] Copy your API URL (e.g., https://xxx.vercel.app)
   
Step 3: Deploy Webapp
   [ ] New Project â†’ Same repository
   [ ] Set Root Directory: webapp
   [ ] Add VITE_API_URL with your API URL + /api/v1
   [ ] Add VITE_API_SECRET (same as API_SECRET)
   [ ] Click Deploy
   [ ] Copy your Webapp URL
   
Step 4: Update CORS
   [ ] Edit api/src/index.ts and api/index.ts locally
   [ ] Add webapp URL to CORS origins array
   [ ] git add . && git commit -m "Update CORS" && git push
   [ ] Wait for automatic redeployment
   
Step 5: Test
   [ ] Visit your webapp URL
   [ ] Create test sensor data via API
   [ ] Verify charts display correctly

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ› TROUBLESHOOTING                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Build Failed?
â†’ Check Vercel build logs
â†’ Ensure Root Directory is set correctly (api or webapp)
â†’ Check all dependencies are in package.json

Database Connection Failed?
â†’ Verify DATABASE_URL is correct
â†’ Check database is accessible
â†’ Ensure connection string includes ?sslmode=require

CORS Error in Browser?
â†’ Add webapp URL to CORS in api/src/index.ts and api/index.ts
â†’ Push changes to trigger redeployment

401 Unauthorized?
â†’ Ensure API_SECRET matches VITE_API_SECRET
â†’ Check Authorization header format

No Data Showing?
â†’ Create test data using API
â†’ Check browser console for errors
â†’ Verify VITE_API_URL is correct

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ¯ QUICK COMMANDS                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test API after deployment:
curl https://your-api.vercel.app/api/v1/health \
  -H "Authorization: Bearer your_api_secret"

Create test sensor data:
curl -X POST https://your-api.vercel.app/api/v1/sensors \
  -H "Authorization: Bearer your_api_secret" \
  -H "Content-Type: application/json" \
  -d '{
    "sensorName": "Temperature",
    "sensorType": "DHT22",
    "value": 25.5,
    "unit": "Â°C"
  }'

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    âœ… AFTER SUCCESSFUL DEPLOYMENT              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your URLs:
â€¢ GitHub: https://github.com/E27-25/assignment-week2-sensor-api
â€¢ API: https://[your-api].vercel.app
â€¢ Webapp: https://[your-webapp].vercel.app

Submit on Onlearn:
1. GitHub repository URL
2. Both live deployment URLs
3. Screenshots of working dashboard

Good luck! ğŸš€
